<div [@routerTransition]>
    <i class="name"></i>
    <h1 class="sign-in">{{ls.l("Auto Login")}}</h1>
    <form #loginForm="ngForm" class="login-form" method="post" novalidate (ngSubmit)="sendloginLink()">
        <div class="form-group clearfix options row" [innerHTML]="ls.l(isLinkSent || isInstantForm ? 'AutoLoginMailSentMessage' : 'AutoLoginMessage', (isLinkSent ? '<br>' : '') + '<b>' + userEmail + '</b>' + (isLinkSent ? '<br>' : ''), tenantName)"></div>
        <div class="form-actions">
            <ng-container *ngIf="isLinkSent && accessCodeMaxTriesCount">
                <dx-text-box
                    width="115px"
                    height="40px"
                    mask="000-000"
                    [(value)]="accessCode"
                    accessKey="AccessCode"
                    validationMessageMode="always"
                    [placeholder]="ls.l('EnterCode')"
                    (onFocusOut)="onAutoLoginCodeFocusOut($event)"
                    (onKeyUp)="onAutoLoginCodeChanged($event)">
                </dx-text-box>
                <dx-button icon="check" 
                    height="40px"
                    accessKey="AccessCode"
                    (onClick)="onAccessCodeProcess()">
                </dx-button>
            </ng-container>
            <ng-container *ngIf="accessCodeMaxTriesCount <= 0">
                <div class="auto-login-error">{{ ls.l('AutoLoginMaxTriesMessage') }}</div>
            </ng-container>
            <button type="submit" class="submit" [hidden]="isLinkSent">
                {{ls.l("Auto Login")}}
                <img src="./assets/common/icons/arrow-right-long-icon.svg" alt="right arrow" class="pull-right">
            </button>
        </div>
    </form>
    <div class="login-terms-and-condition">
        <span>{{ls.l('ByContinuingYouAgree')}} <br><a (click)="openConditionsDialog(conditions.Terms)">{{ls.l('TermsOfUse')}}</a> {{ls.l('and')}} <a (click)="openConditionsDialog(conditions.Policies)">{{ls.l('PrivacyPolicy')}}</a></span>
    </div>
</div>
