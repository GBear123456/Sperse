<div [@routerTransition] class="login-wraper d-flex align-self-center">
    <div class="m-login__signin">
        <div class="m-login__head">
            <h3 class="m-login__title">
                {{l("ChangePassword")}}
            </h3>
        </div>
        <form #resetPassForm="ngForm" class="m-login__form" method="post" (ngSubmit)="save()">
            <p>
                {{l("For security reasons, you should reset your account password. Avoid simple passwords that others can guess, and make sure to note it down so you can remember it in future.")}}
            </p>

            <div class="form-group m-form__group">
                <input type="password" name="Password" class="form-control placeholder-no-fix"
                       [(ngModel)]="model.password"
                       [ngModelOptions]="{updateOn: 'blur'}"
                       #Password="ngModel" placeholder="{{l('Password')}}" validateEqual="PasswordRepeat"
                       reverse="true" [requireDigit]="passwordComplexitySetting.requireDigit"
                       [requireLowercase]="passwordComplexitySetting.requireLowercase"
                       [requireUppercase]="passwordComplexitySetting.requireUppercase"
                       [requireNonAlphanumeric]="passwordComplexitySetting.requireNonAlphanumeric"
                       [requiredLength]="passwordComplexitySetting.requiredLength"
                       required>
            </div>
            <div [hidden]="resetPassForm.form.valid || Password.pristine" class="form-group">
                <ul class="help-block text-danger" *ngIf="Password.errors">
                    <li [hidden]="!Password.errors.requireDigit">{{l("PasswordComplexity_RequireDigit_Hint")}}</li>
                    <li [hidden]="!Password.errors.requireLowercase">{{l("PasswordComplexity_RequireLowercase_Hint")}}</li>
                    <li [hidden]="!Password.errors.requireUppercase">{{l("PasswordComplexity_RequireUppercase_Hint")}}</li>
                    <li [hidden]="!Password.errors.requireNonAlphanumeric">{{l("PasswordComplexity_RequireNonAlphanumeric_Hint")}}</li>
                    <li [hidden]="!Password.errors.requiredLength">{{l("PasswordComplexity_RequiredLength_Hint",
                        passwordComplexitySetting.requiredLength)}}</li>
                </ul>
            </div>

            <div class="form-group m-form__group">
                <input type="password" name="PasswordRepeat" class="form-control placeholder-no-fix"
                       [ngModel]="model.passwordRepeat"
                       [ngModelOptions]="{updateOn: 'blur'}"
                       #PasswordRepeat="ngModel" placeholder="{{l('PasswordRepeat')}}" validateEqual="Password"
                       reverse="false" [requireDigit]="passwordComplexitySetting.requireDigit"
                       [requireLowercase]="passwordComplexitySetting.requireLowercase"
                       [requireUppercase]="passwordComplexitySetting.requireUppercase"
                       [requireNonAlphanumeric]="passwordComplexitySetting.requireNonAlphanumeric"
                       [requiredLength]="passwordComplexitySetting.requiredLength"
                       required>
            </div>
            <div [hidden]="resetPassForm.form.valid || PasswordRepeat.pristine" class="form-group">
                <ul class="help-block text-danger" *ngIf="PasswordRepeat.errors">
                    <li [hidden]="!PasswordRepeat.errors.requireDigit">{{l("PasswordComplexity_RequireDigit_Hint")}}</li>
                    <li [hidden]="!PasswordRepeat.errors.requireLowercase">{{l("PasswordComplexity_RequireLowercase_Hint")}}</li>
                    <li [hidden]="!PasswordRepeat.errors.requireUppercase">{{l("PasswordComplexity_RequireUppercase_Hint")}}</li>
                    <li [hidden]="!PasswordRepeat.errors.requireNonAlphanumeric">{{l(
                        "PasswordComplexity_RequireNonAlphanumeric_Hint")}}</li>
                    <li [hidden]="!PasswordRepeat.errors.requiredLength">{{l("PasswordComplexity_RequiredLength_Hint",
                        passwordComplexitySetting.requiredLength)}}</li>
                    <li [hidden]="PasswordRepeat.valid">{{l("PasswordsDontMatch")}}</li>
                </ul>
            </div>

            <div class="m-login__form-action">
                <button type="submit"
                        class="btn btn-primary m-btn m-btn--pill m-btn--custom m-btn--air"
                        [disabled]="!resetPassForm.form.valid"
                        [buttonBusy]="saving"
                        [busyText]="l('SavingWithThreeDot')">{{l("Save New Password")}}</button>
                <button [disabled]="saving"
                        routerLink="/account/login"
                        type="button" class="btn btn-link btn-back">{{l("Go Back")}}</button>
            </div>

        </form>
    </div>
</div>
