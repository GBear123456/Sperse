<h2>{{l('General')}} {{l('Settings')}}</h2>
<div *ngIf="generalSettings">
    <ng-container *ngIf="tenant && isRenameTenantEnabled">
        <div class="form-group">
            <label for="TenantName">{{l("Tenant Name")}}</label>
            <input #tenantNameModel="ngModel"
                   id="TenantName"
                   type="text"
                   name="TenantName"
                   class="form-control"
                   [(ngModel)]="tenantName"
                   maxlength="128"
                   [pattern]="tenantNameRegexPattern.source">
        </div>
        <div>
            <span class="help-block text-danger"
                  *ngIf="tenantNameModel.invalid && tenantNameModel.dirty">
                {{l("Only letters, numbers, spaces, and hyphens are allowed.")}}
            </span>
        </div>
    </ng-container>
    <div class="form-group">
        <label for="DefaultCountry">{{l("DefaultCountry")}}</label>
        <dx-select-box valueExpr="code"
                       displayExpr="name"
                       [searchExpr]="['code', 'name']"
                       [searchEnabled]="true"
                       [placeholder]="Search"
                       fieldTemplate="field"
                       [(value)]="generalSettings.defaultCountryCode"
                       [dataSource]="supportedCountries"
                       (onValueChanged)="onCountryChanged($event)">
            <div *dxTemplate="let item of 'field'" class="flag-field">
                <img [hidden]="!generalSettings?.defaultCountryCode" class="selected-flag-icon" src="assets/common/icons/flags/{{generalSettings?.defaultCountryCode?.toLowerCase()}}.svg" width="19px" height="auto">&nbsp;
                <dx-text-box width="90%" [value]="item?.name"></dx-text-box>
            </div>
            <div *dxTemplate="let item of 'item'" class="flag-row">
                <img class="flag-icon" src="assets/common/icons/flags/{{item?.code?.toLowerCase()}}.svg" width="auto" height="38px"><div><span class="country-name">{{item.name}}</span><br><b class="country-id">{{item.code}}</b></div>
            </div>
        </dx-select-box>
    </div>
    <div class="form-group" *ngIf="showTimezoneSelection">
        <label for="Timezone">{{l("Timezone")}}</label>
        <timezone-combo id="Timezone"
                        [(selectedTimeZone)]="generalSettings.timezone"
                        [defaultTimezoneScope]="defaultTimezoneScope">
        </timezone-combo>
    </div>
    <div class="form-group">
        <label for="Currency">{{l("Currency")}}</label>
        <currency-selector [(currency)]="generalSettings.currency">
        </currency-selector>
    </div>
    <ng-container *ngIf="!isHost">
        <div class="form-group">
            <label for="PublicPhone">{{l("PublicPhone")}}</label>
            <div>
                <country-phone-number #publicPhoneNumber
                                      [phoneNumber]="generalSettings.publicPhone"
                                      [required]="false"
                                      (phoneNumberChange)="onPhoneNumberChange($event, publicPhoneNumber)">
                </country-phone-number>
            </div>
        </div>
        <div class="form-group">
            <label for="PublicSiteUrl">{{l("PublicSiteUrl")}}</label>
            <input #publicSiteUrl="ngModel"
                   id="PublicSiteUrl"
                   type="url"
                   name="PublicSiteUrl"
                   class="form-control"
                   [(ngModel)]="generalSettings.publicSiteUrl"
                   maxlength="128"
                   [pattern]="siteUrlRegexPattern.source"
                   (change)="onUrlPaste($event)"
                   (paste)="onUrlPaste($event)">
        </div>
        <div>
            <span class="help-block text-danger"
                  *ngIf="!publicSiteUrl.valid && !publicSiteUrl.pristine">
                {{l("Invalid_PublicSiteUrl")}}
            </span>
        </div>
        <div class="form-group">
            <label for="ZendeskAccountUrl">{{l("ZendeskAccountUrl")}}</label>
            <input id="ZendeskAccountUrl"
                   type="text"
                   name="ZendeskAccountUrl"
                   class="form-control"
                   [(ngModel)]="generalSettings.zendeskAccountUrl"
                   maxlength="128">
        </div>
    </ng-container>
    <div class="row m-form" *ngIf="isAdminCustomizations">
        <div class="col-md-6">
            <uploader #privacyPolicyUploader
                      [title]="l('PrivacyPolicy')"
                      [documentId]="appearanceConfig.customPrivacyPolicyDocumentId"
                      [documentLink]="remoteServiceBaseUrl + '/api/TenantCustomization/GetPrivacyPolicyDocument?tenantId=' + (appearanceConfig.id || '')"
                      [uploadButtonText]="l('UploadPrivacyPolicy')"
                      [uploadUrl]="remoteServiceBaseUrl + '/api/TenantCustomization/UploadCustomPrivacyPolicyDocument'"
                      (onDocumentClear)="clearConditions(conditions.Policies)">
            </uploader>
        </div>
        <div class="col-md-6">
            <uploader #tosUploader
                      [title]="l('TermsOfService')"
                      [documentId]="appearanceConfig.customToSDocumentId"
                      [documentLink]="remoteServiceBaseUrl + '/api/TenantCustomization/GetTermsOfServiceDocument?tenantId=' + (appearanceConfig.id || '')"
                      [uploadButtonText]="l('UploadTermsOfService')"
                      [uploadUrl]="remoteServiceBaseUrl + '/api/TenantCustomization/UploadCustomToSDocument'"
                      (onDocumentClear)="clearConditions(conditions.Terms)">
            </uploader>
        </div>
    </div>
</div>