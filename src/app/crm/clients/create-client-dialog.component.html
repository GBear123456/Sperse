<div class="photo-area" (click)="showUploadPhoto($event)"></div>
<modal-dialog>
    <app-toolbar [config]="toolbarConfig"></app-toolbar>
    <mat-sidenav class="main_sidenav" mode="side" align="end" opened="true">
      <mat-tab-group>
        <mat-tab label="{{l('Personal') | uppercase}}">
          <div class="tab-content">
              <div class="field email">
                  <label>{{l('Email')}}</label>
                  <dx-text-box #emailComponent
                    name="email"
                    [width]="'360px'"
                    [(value)]="emailAddress">
                    <dx-validator>
                      <dxi-validation-rule type="required" message="{{l('EmailIsRequired')}}."></dxi-validation-rule>
                      <dxi-validation-rule type="email" message="{{l('EmailIsNotValid')}}."></dxi-validation-rule>
                    </dx-validator>
                  </dx-text-box>
                  <span class="add-contact" (click)="addContact('emails')">+</span>
              </div>
              <div class="field" *ngFor="let email of contacts.emails; index as i">
                  <p>{{email}}<span (click)="removeContact('emails', i)"></span></p>
              </div>
              <div class="field phone H">
                  <label>{{l('Phone')}}</label>
                  <dx-text-box #phoneComponent
                    name="phone"
                    maskInvalidMessage="{{l('PhoneValidationError')}}"
                    [mask]="masks.phone"
                    [width]="'205px'"
                    [(value)]="phoneNumber"
                    (onFocusIn)="focusInput($event)">
                    <dx-validator>
                      <dxi-validation-rule type="required" message="{{l('PhoneIsRequired')}}."></dxi-validation-rule>
                    </dx-validator>
                  </dx-text-box>
                  <dx-number-box
                    name="phoneExtension"
                    [width]="'50px'"
                    [placeholder]="l('Ext')"
                    [(value)]="phoneExtension">
                  </dx-number-box>
                  <dx-select-box
                    width="100px"
                    name="phoneType"
                    placeholder="{{l('Type')}}"
                    [dataSource]="phoneTypes"
                    displayExpr="name"
                    valueExpr="id"
                    [value]="phoneType"
                    (onValueChanged)="onTypeChanged($event, 'phone')">
                  </dx-select-box>
                  <span class="add-contact" (click)="addContact('phones')">+</span>
              </div>
              <div class="field" *ngFor="let phone of contacts.phones; index as i">
                  <p class="phone {{phone.type}}">{{phone.number | phone}}&nbsp;&nbsp;{{phone.ext ? 'ext: ' + phone.ext: '' }}<span (click)="removeContact('phones', i)"></span></p>
              </div>
              <dx-validation-group (onInitialized)="initAddressValidationGroup($event)">
                  <div class="field address H">
                      <label>{{l('Address')}}</label>                   
                      <input *ngIf="!googleAutoComplete" type="text"
                          name="Address"
                          placeholder="{{l('Street')}}"
                          [(ngModel)]="address"
                          class="dx-texteditor-input"/>
                      <input *ngIf="googleAutoComplete" type="text"
                          name="Address"
                          placeholder="{{l('Street')}}"
                          [(ngModel)]="address"
                          class="dx-texteditor-input"
                          (country)="country=$event"
                          (street_number)='streetNumber=$event'
                          (street)='streetAddress=$event'
                          (city)='city=$event'
                          (state)='state=$event'
                          (postal_code)='zip=$event'
                          (setAddress)="onAddressChanged($event)"
                          ng2-google-place-autocomplete/>
                      <dx-select-box
                        width="100px"
                        name="addressType"
                        placeholder="{{l('Type')}}"
                        [dataSource]="addressTypes"
                        displayExpr="name"
                        valueExpr="id"
                        [value]="addressType"
                        (onValueChanged)="onTypeChanged($event, 'address')">
                      </dx-select-box>
                      <!-- span class="add-contact" (click)="addContact('addresses')">+</span -->
                  </div>
                  <div class="field">
                      <label></label>                   
                      <dx-text-box
                          name="city"
                          maxLength="50"
                          placeholder="{{l('City')}}"
                          [width]="'360px'"
                          [(value)]="city">
                          <dx-validator>
                              <dxi-validation-rule type="required" message="{{l('CityRequired')}}"></dxi-validation-rule>
                          </dx-validator>
                      </dx-text-box>
                  </div>
                  <div class="field">
                      <label></label>                   
                      <dx-select-box
                          [dataSource]="states"
                          displayExpr="name"
                          valueExpr="name"
                          name="state"
                          placeholder="{{l('State')}}"
                          [width]="'360px'"
                          [searchEnabled]="true"
                          [(value)]="state">
                          <dx-validator>
                              <dxi-validation-rule type="required" message="{{l('StateRequired')}}"></dxi-validation-rule>
                          </dx-validator>
                      </dx-select-box>
                  </div>
                  <div class="field">
                      <label></label>                   
                      <dx-text-box
                          name="zip"
                          maxLength="5"
                          placeholder="{{l('Zip')}}"
                          [width]="'360px'"
                          [(value)]="zip">
                          <dx-validator>
                              <dxi-validation-rule type="required" message="{{l('ZipIsRequired')}}"></dxi-validation-rule>
                          </dx-validator>
                      </dx-text-box>
                  </div>
                  <div class="field">
                      <label></label>                   
                      <dx-select-box
                          [dataSource]="countries"
                          displayExpr="name"
                          valueExpr="name"
                          name="country"
                          placeholder="{{l('Country')}}"
                          [width]="'360px'"
                          [searchEnabled]="true"
                          [(value)]="country"
                          (onValueChanged)="onCountryChange($event)">
                          <dx-validator>
                              <dxi-validation-rule type="required" message="{{l('CountryRequired')}}"></dxi-validation-rule>
                          </dx-validator>
                      </dx-select-box>
                  </div>
                  <!-- div class="field" *ngFor="let address of contacts.addresses; index as i">
                      <p class="address {{address.addressType}}">{{address.streetAddress}}, {{address.city}}, {{address.state}}, {{address.zip}}, {{address.country}}<span (click)="removeContact('addresses', i)"></span></p>
                  </div -->
                  <div class="field">
                      <label>{{l('Notes')}}</label>
                      <dx-text-area
                        name="notes"
                        [width]="'360px'"
                        [height]="'100px'"
                        [(value)]="notes">
                      </dx-text-area>
                  </div>
              </dx-validation-group>
          </div>
        </mat-tab>
        <mat-tab label="{{l('Bussines') | uppercase}}">
            EMPTY
        </mat-tab>
      </mat-tab-group>
    </mat-sidenav>
</modal-dialog>