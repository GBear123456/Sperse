<email-template-dialog
    [tagsList]="tagsList"
    [templateEditMode]="true" 
    (onTemplateChange)="templateChanged($event)" 
    (onTagItemClick)="onTagItemClick($event)"
    (onSave)="save()">
    <ng-container templateSettings>
        <div class="settings-wrapper">
            <div class="left-side">
                <h3 >{{ls.l('Company Info')}}</h3>
                <dx-text-box 
                    [placeholder]="ls.l('LegalName')"
                    [(value)]="settings.legalName"
                    [maxLength]="150">
                </dx-text-box>
                <dx-text-area 
                    height="90px"
                    [placeholder]="ls.l('Address')"
                    [(value)]="settings.address"
                    [maxLength]="500">
                </dx-text-area>
                <dx-text-area [placeholder]="ls.l('Invoice_DefaultNote')"
                              [(value)]="settings.defaultNote">
                </dx-text-area>
                <dx-number-box 
                    [min]="0"
                    [max]="99"
                    [mode]="number"
                    [placeholder]="ls.l('AffiliateRate')"
                    [(value)]="settings.defaultAffiliateRate"
                    [showSpinButtons]="true">
                </dx-number-box>
            </div>
            <div class="right-side">
                <h3>{{ls.l('InvoiceEmail_OtherSettings')}}</h3>
                <dx-select-box
                    name="currency"
                    displayExpr="text"
                    valueExpr="id"
                    [placeholder]="ls.l('Currency')"
                    [(value)]="settings.currency"
                    [dataSource]="currencies">
                </dx-select-box>
                <a (click)="showBankSettingsDialog()" href="javascript:void(0)">{{ls.l('InvoiceEmail_BankTransferSettings')}}</a>
                <dx-check-box
                    [text]="ls.l('InvoiceEmail_ShowShippingAddress')"
                    [(value)]="settings.showShippingAddress">
                </dx-check-box>
                <dx-check-box
                    [text]="ls.l('InvoiceEmail_AttachPDF')"
                    [(value)]="settings.attachPDF">
                </dx-check-box>
                <dx-text-box
                        [placeholder]="ls.l('Tax/VatNo')"
                        [(value)]="settings.taxVatNo"
                        [maxLength]="20">
                </dx-text-box>
            </div>
        </div>
    </ng-container>
</email-template-dialog>