<modal-dialog [title]="ls.l('AffiliateHistory')"
              [editTitle]="false"
              [titleClearButton]="false">
    <dx-scroll-view showScrollbar="onHover">
        <div class="content">
            <div *ngFor="let affiliate of affiliateHistory">
                <div class="m-alert m-alert--icon m-alert--icon-solid m-alert--outline alert alert-info" role="alert">
                    <div class="m-alert__icon">
                        <img [src]="profileService.getContactPhotoUrl(affiliate.userPhotoPublicId, false)"
                             [title]="affiliate.userName || ''" 
                             class="m--img-rounded m--marginless m--img-centered" 
                             width="50" height="50">
                    </div>
                    <div class="m-alert__text">
                        <div class="row" *ngIf="affiliate.affiliateCode">
                            <label class="control-label col-sm-2 text-right">{{ls.l('AffiliateCode')}}</label>
                            <div class="col-sm-10">
                                <p class="form-control-static">
                                    {{affiliate.affiliateCode}}
                                </p>
                            </div>
                        </div>
                        <div class="row" *ngIf="affiliate.affiliateRate">
                            <label class="control-label col-sm-2 text-right">{{ls.l('AffiliateRate')}}</label>
                            <div class="col-sm-10">
                                <p class="form-control-static">
                                    {{(affiliate.affiliateRate * 100).toFixed(2)}}
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <label class="control-label col-sm-2 text-right">{{ls.l('PersonalSettings.Contact1')}}</label>
                            <div class="col-sm-10">
                                <p class="form-control-static">
                                    <img [src]="profileService.getContactPhotoUrl(affiliate.userPhotoPublicId, false)" class="m--img-rounded m--marginless m--img-centered" width="25px" height="25px">
                                    {{affiliate.userName}}
                                </p>
                            </div>
                        </div>
                        <div class="row">
                            <label class="control-label col-sm-2 text-right">{{ls.l('Time')}}</label>
                            <div class="col-sm-10">
                                <p class="form-control-static login-attempt-date">
                                    {{getAffiliateTime(affiliate)}}
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </dx-scroll-view>
</modal-dialog>