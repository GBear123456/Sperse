<h2 mat-dialog-title>{{ls.l('Personal Settings')}}<span class="close" (click)="close()"></span></h2>
<mat-dialog-content>
    <mat-tab-group>
        <mat-tab [label]="ls.l('General')">
            <dx-scroll-view showScrollbar="onHover" [height]="getTabContentHeight()">
                <div class="general-tab">
                    <div>
                        <h3>{{ ls.l('AffiliateInfo') }}</h3>
                        <h4>{{ ls.l('AffiliateCode') }}</h4>
                        <inplace-edit [id]="contactInfo.id"
                                    lEntityName="Name"
                                    [editPlaceholder]="ls.l('Affiliate')"
                                    [value]="affiliateCode$ | async"
                                    [validationRules]="affiliateValidationRules"
                                    [isReadOnlyField]="!permissionChecker.checkCGPermission(contactInfo.groupId)"
                                    (valueChanged)="updateAffiliateCode($event)">
                        </inplace-edit>
                    </div>
                    <div>
                        <h4>{{ ls.l('Xref') }}</h4>
                        <inplace-edit [id]="contactInfo.id"
                                    lEntityName="Name"
                                    [editPlaceholder]="ls.l('Xref')"
                                    [value]="contactXref$ | async"
                                    [isOptional]="true"
                                    [validationRules]="xrefValidationRules"
                                    [isReadOnlyField]="!permissionChecker.checkCGPermission(contactInfo.groupId)"
                                    (valueChanged)="updateXref($event)">
                        </inplace-edit>
                    </div>
                    <div>
                        <ng-container *ngFor="let n of [1,2,3,4,5]">
                            <ng-container *ngIf="isLayoutTypeBankCode || contactInfo?.personContactInfo['customField' + n]">
                                <h4>{{ ls.l('Contact_CustomField' + n) }}</h4>
                                <p>{{ contactInfo?.personContactInfo['customField' + n] }}</p>
                            </ng-container>
                        </ng-container>
                    </div>
                </div>
            </dx-scroll-view>
        </mat-tab>
        <mat-tab [label]="ls.l('Overview')" *ngIf="showOverviewTab">
            <span class="gear-icon" (click)="toggleConfigMode()"></span>
            <dx-scroll-view showScrollbar="onHover">
                <div class="overview-content" [ngClass]="{'config-mode': configMode}">
                    <div class="right-panel-block" [hidden]="!configMode && !overviewPanelSetting?.clientScores">
                        <input *ngIf="configMode" type="checkbox"
                               (click)="toggleSectionVisibility($event, 'clientScores')"
                               class="cb-visible-section" [checked]="overviewPanelSetting?.clientScores">
                        <client-scores></client-scores>
                    </div>
                    <div class="right-panel-block" [hidden]="!configMode && !overviewPanelSetting?.totalApproved">
                        <input *ngIf="configMode" type="checkbox"
                               (click)="toggleSectionVisibility($event, 'totalApproved')"
                               class="cb-visible-section" [checked]="overviewPanelSetting?.totalApproved">
                        <total-approved></total-approved>
                    </div>
                    <!-- credit-lines></credit-lines -->
                    <div class="right-panel-block" [hidden]="!configMode && !overviewPanelSetting?.verification">
                        <input *ngIf="configMode" type="checkbox"
                               (click)="toggleSectionVisibility($event, 'verification')"
                               class="cb-visible-section" [checked]="overviewPanelSetting?.verification">
                        <verification-checklist [data]="verificationChecklist"></verification-checklist>
                    </div>
                    <!-- required-documents></required-documents -->
                </div>
            </dx-scroll-view>
        </mat-tab>
        <mat-tab label="Activity" [disabled]="true">
            Activity
        </mat-tab>
    </mat-tab-group>
</mat-dialog-content>