<header>
    <div class="avatar">
        <div class="active"></div>
        <div class="photo-area" (click)="showUploadPhotoDialog($event)" [ngStyle]="{'background-image': data?.primaryContactInfo?.primaryPhoto ? 'url(data:image/png;base64,' + data.primaryContactInfo.primaryPhoto.original + ')': ''}"></div>
    </div>
    <div class="personal_info">
        <div class="full_name">
            <h1 *ngIf="data && data?.primaryContactInfo">
                <inplace-edit [data]="getNameInplaceEditData()" (valueChanged)="updatePrimaryContactName($event)" (openDialog)="showEditPersonDialog($event)"></inplace-edit>
            </h1>
            <div *ngIf="data?.contactPersons?.length > 1" class="contact-persons-info" (click)="showContactPersons($event)">
                <img src="../../../../assets/common/icons/down-arrow-icon.svg" alt="Contact Persons">
            </div>
        </div>
        <rating-bar rating="{{ ratingId || 0 }}"></rating-bar>
    </div>
    <div *ngIf="data?.organizationContactInfo" class="organization_info">
        <div class="delimiter"></div>
        <div class="organization_logo">
            <img (click)="showUploadPhotoDialog($event, true)" src="{{ data?.organizationContactInfo?.primaryPhoto ? 'data:image/png;base64,' + data.organizationContactInfo.primaryPhoto.thumbnail : '../../../../assets/common/images/no-photo-Organization.png' }}" alt="Organization Logo">
        </div>

        <h2 *ngIf="data && data?.organizationContactInfo?.fullName">
            <inplace-edit [data]="getNameInplaceEditData('organizationContactInfo')" (valueChanged)="updateCompanyName($event)" (openDialog)="showOrganizationDetails($event)"></inplace-edit>
        </h2>

        <div class="info-icon" (click)="showOrganizationDetails($event)">
            <img src="../../../../assets/common/icons/info-icon.svg" alt="Organization Details">
        </div>
    </div>
    <div class="header_financial_info">

    </div>

    <div class="header_buttons">
        <ng-container *ngIf="canSendVerificationRequest && !isClientProspective()">
            <button class="btn btn-layout" (click)="requestVerification()">{{l('ClientDetails_RequestVerification')}}</button>
        </ng-container>
    </div>
</header>
