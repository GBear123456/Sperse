<div class="operations-widget">
    <app-toolbar [config]="toolbarConfig"></app-toolbar>
    <ng-container *ngIf="enabled">
        <app-static-list
            #stagesList
            [width]="'210px'"
            [title]="localizationService.l('Stages')"
            [selectedKeys]="[selectedStageId]"
            [selectedItems]=""
            [hideButtons]="true"
            [highlightSelected]="true"
            [bulkUpdatePermissionKey]="'Pages.CRM.BulkUpdates'"
            (onSelectionChanged)="updateStage($event)"
            [targetSelector]="'[aria-label=Stage]'"
            [funnelStyling]="true"
            [showTitle]="false"
            [list]="stages">
        </app-static-list>
        <app-static-list
            #statusesList
            [width]="'180px'"
            [title]="localizationService.l('Status')"
            [showConfirmation]="false"
            [hideButtons]="true"
            [highlightSelected]="true"
            [selectedKeys]="[contactInfo?.statusId]"
            [targetSelector]="'[aria-label=Status]'"
            [list]="[{id: 'A', name: localizationService.l('Active')}, {id: 'I', name: localizationService.l('Inactive')}]"
            (onItemSelected)="updateStatus($event)">
        </app-static-list>
        <!--<app-static-list-->
            <!--#partnerTypesList-->
            <!--[width]="'210px'"-->
            <!--[title]="localizationService.l('Type')"-->
            <!--[selectedKeys]="[selectedPartnerTypeId]"-->
            <!--[selectedItems]=""-->
            <!--[hideButtons]="true"-->
            <!--[highlightSelected]="true"-->
            <!-- [bulkUpdatePermissionKey]="'Pages.CRM.BulkUpdates'" -->
            <!--(onSelectionChanged)="updatePartnerType($event)"-->
            <!--[targetSelector]="'[accessKey=PartnerType]'"-->
            <!--[showTitle]="false"-->
            <!--[list]="partnerTypes">-->
        <!--</app-static-list>-->
        <crm-types-list [selectedKeys]="[contactInfo.id]" [selectedItems]="[selectedPartnerTypeId]"></crm-types-list>
        <crm-tags-list [selectedKeys]="[contactInfo.id]" [selectedItems]="contactInfo?.tags"></crm-tags-list>
        <crm-lists-list [selectedKeys]="[contactInfo.id]" [selectedItems]="contactInfo?.lists"></crm-lists-list>
        <crm-user-assignment-list 
            [selectedKeys]="[contactInfo.id]" 
            [selectedItemKey]="contactInfo?.assignedUserId" 
            [assignedUsersSelector]="getAssignedUsersSelector()" 
            [permissionKey]="getAssignmentsPermissionKey()"
            [proxyService]="getProxyService()">
        </crm-user-assignment-list>
        <crm-rating [selectedKeys]="[contactInfo.id]" [ratingValue]="contactInfo?.ratingId" (onRatingUpdated)="updateRating($event)"></crm-rating>
        <crm-stars-list [selectedKeys]="[contactInfo.id]" [selectedItemKey]="contactInfo?.starId"></crm-stars-list>
    </ng-container>
</div>
