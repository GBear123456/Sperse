<button mat-dialog-close class="close-dialog"><i class="la la-times"></i></button>
<mat-dialog-content>
    <mat-horizontal-stepper [linear]="false" #stepper [@.disabled]="true">
        <mat-step>
            <div class="first-step step-item">
                <div class="header">
                    <span>{{l('Introduction_Tour')}}</span>
                </div>
                <div class="main">
                    <h2>{{l('CRM')}}</h2>
                    <p>{{l('CRM_description')}}</p>
                    <div class="play" (click)="goToStep(8)">
                        <img src="assets/common/images/crm-intro/play-btn.png">
                        <div class="bottomp">
                            <p>
                                {{l('Know_Your')}} <span class="color-blue">{{l('Customers')}}</span>
                            </p>
                            <img src="assets/common/images/crm-intro/frb.png">
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <a (click)="goToStep(8)">
                        <img src="assets/common/images/crm-intro/button-play.svg" alt="play"> {{l('Play_Video')}}
                    </a>
                    <button mat-button matStepperNext class="btn btn-layout">{{l('Next')}}</button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="second-step step-item">
                <div class="header">
                    <span>{{l('Key_Features')}}</span>
                </div>
                <div class="main">
                    <h2>{{l('Key_Features')}}</h2>
                    <ul class="treka">
                        <li>
                            <img src="assets/common/images/crm-intro/sijalica.png">{{l('Key_Features_1')}}
                        </li>
                        <li>
                            <img src="assets/common/images/crm-intro/drugi.png">{{l('Key_Features_2')}}
                        </li>
                        <li>
                            <img src="assets/common/images/crm-intro/treci.png">{{l('Key_Features_3')}}
                        </li>
                        <li>
                            <img src="assets/common/images/crm-intro/catvrti.png">{{l('Key_Features_4')}}
                        </li>
                        <li>
                            <img src="assets/common/images/crm-intro/pati.png">{{l('Key_Features_5')}}
                        </li>
                        <li>
                            <img src="assets/common/images/crm-intro/pati.png">{{l('Key_Features_6')}}
                        </li>
                        <li>
                            <img src="assets/common/images/crm-intro/pati.png">{{l('Key_Features_7')}}
                        </li>
                    </ul>
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">{{l('Back')}}</button>
                    <button mat-button matStepperNext class="btn btn-layout">{{l('Next')}}</button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="second-step pro step-item">
                <div class="header">
                    <span>{{l('Key_Features')}}: {{l('Pro_Edition')}}</span>
                </div>
                <div class="main">
                    <h2>{{l('Key_Features')}}: {{l('Pro_Edition')}}</h2>
                    <ul class="treka">
                        <li>
                            <img src="assets/common/images/crm-intro/sijalica.png">{{l('Key_Features_Pro_1')}}
                        </li>
                        <li>
                            <img src="assets/common/images/crm-intro/drugi.png">{{l('Key_Features_Pro_2')}}
                        </li>
                        <li>
                            <img src="assets/common/images/crm-intro/treci.png">{{l('Key_Features_Pro_3')}}
                        </li>
                        <li>
                            <img src="assets/common/images/crm-intro/catvrti.png">{{l('Key_Features_Pro_4')}}
                        </li>
                        <li>
                            <img src="assets/common/images/crm-intro/pati.png">{{l('Key_Features_Pro_5')}}
                        </li>
                        <li>
                            <img src="assets/common/images/crm-intro/pati.png">{{l('Key_Features_Pro_6')}}
                        </li>
                        <li>
                            <img src="assets/common/images/crm-intro/pati.png">{{l('Key_Features_Pro_7')}}
                        </li>
                    </ul>
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">{{l('Back')}}</button>
                    <button mat-button matStepperNext class="btn btn-layout">{{l('Next')}}</button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="third-step step-item">
                <div class="header">
                    <span>{{l('Drag_Drop_Step_Title')}}</span>
                </div>
                <div class="main top-fromRight-bg">
                    <img src="/assets/common/images/crm-intro/pipeline-manager.png" alt="{{l('Pipeline_Manager')}}" class="pipeline-img">
                    <div class="content">
                        <p class="color-blue">
                            {{l('Drag_Drop_Step_Description')}}
                        </p>
                    </div>
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">{{l('Back')}}</button>
                    <button mat-button matStepperNext class="btn btn-layout">{{l('Next')}}</button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="forth-step step-item">
                <div class="header">
                    <span>{{l('Transactions_Search_Filter_Organize')}}</span>
                </div>
                <div class="main top-fromLeft-bg">
                    <div class="content">
                        <p class="color-blue">
                            {{l('Transactions_Search_Filter_Organize_Description')}}
                        </p>
                        <img src="/assets/common/images/crm-intro/documents-types.png" alt="{{l('Documents_Types')}}" class="documents-types img-responsive">
                    </div>
                    <img src="/assets/common/images/crm-intro/document-management.png" alt="{{l('Documents_Page')}}" class="documents-page img-responsive">
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">{{l('Back')}}</button>
                    <button mat-button matStepperNext class="btn btn-layout">{{l('Next')}}</button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="fifth-step step-item">
                <div class="header">
                    <span>{{l('Your_Financial_Snapshot')}}</span>
                </div>
                <div class="main">
                    <div class="main-content">
                        <h5>{{l('Import_Wizard')}}</h5>
                        <p>{{l('Import_Wizard_Description')}}</p>
                        <h5>{{l('Export_Tools')}}</h5>
                        <p>{{l('Export_Tools_Description')}}</p>
                    </div>
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">{{l('Back')}}</button>
                    <button mat-button matStepperNext class="btn btn-layout">{{l('Next')}}</button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="sixth-step step-item">
                <div class="header">
                    <span>{{l('Browser_Extension')}}</span>
                </div>
                <div class="main top-fromLeft-bg">
                    <div class="content">
                        <p class="color-blue">
                            {{l('Browser_Extension_Description')}}
                        </p>
                        <img src="/assets/common/images/crm-intro/extension.png" alt="{{l('Plugin_Extension')}}" class="extension img-responsive">
                    </div>
                    <img src="/assets/common/images/crm-intro/plugin.png" alt="{{l('Plugin_Page')}}" class="plugin-page img-responsive">
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">{{l('Back')}}</button>
                    <button mat-button matStepperNext class="btn btn-layout">{{l('Next')}}</button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="zapier step-item">
                <div class="header">
                    <span>{{l('Zap_Custom_Integration')}}</span>
                </div>
                <div class="main top-fromRight-bg">
                    <img src="/assets/common/images/crm-intro/zapier-integration.png" alt="Pipeline Manager" class="zapier-img">
                    <div class="main-content">
                        <h5>{{l('Zapier_Integration')}}</h5>
                        <p>{{l('Zapier_Integration_Description')}}</p>
                        <h5>{{l('Custom_Integration')}}</h5>
                        <p>{{l('Custom_Integration_Description')}}</p>
                    </div>
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">{{l('Back')}}</button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="questionnaire-step step-item">
                <div class="header">
                    <img src="/assets/common/images/sperse-logo.png">
                </div>
                <div class="main">
                    <div class="conta">
                        <div class="mainda" *ngIf="question">
                            <h3>
                                {{question.text}}
                            </h3>
                            <div class="imputara">
                                <label *ngFor="let option of question.options" class="container1">
                                    {{option.text}}
                                    <input type="checkbox" [value]="option['selected'] === true" (change)="option['selected'] = $event.target.checked;">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">Back</button>

                    <button *ngIf="!showImportUsersStep" class="btn btn-layout get-started" (click)="onSubmit()" mat-button>
                        {{data?.alreadyStarted ? 'Submit' : 'Get started'}}
                    </button>
                    <button *ngIf="showImportUsersStep" mat-button matStepperNext class="btn btn-layout">Next</button>
                </div>
            </div>
        </mat-step>
        <mat-step *ngIf="showImportUsersStep">
            <div class="seventh-step step-item">
                <div class="header">
                    <img src="/assets/common/images/sperse-logo.png">
                </div>
                <div class="main">
                    <div class="conta">
                        <div class="mainda">
                            <h3>
                                Invite Your Team Members <br />
                                With Assigned Roles
                            </h3>
                            <div class="imputara">
                                <dx-scroll-view height="350" showScrollbar="onHover">
                                    <div style="position:relative">
                                        <dx-validation-group *ngFor="let user of importUsers; let i = index" (onInitialized)="onInviteUserValidationGroupInitialized($event)">
                                            <div class="row import-user-row" [attr.index]="i">
                                                <dx-text-box [(value)]="user.email"
                                                             placeholder="Email"
                                                             (onValueChanged)="validateInviteUserGroup(i)"
                                                             class="col-4">
                                                    <dx-validator>
                                                        <dxi-validation-rule type="custom" [validationCallback]="validateInviteUserRow" [reevaluate]="true" message="{{l('EmailIsRequired')}}."></dxi-validation-rule>
                                                        <dxi-validation-rule type="email" message="{{l('EmailIsNotValid')}}."></dxi-validation-rule>
                                                        <dxi-validation-rule type="stringLength" [max]="64"></dxi-validation-rule>
                                                    </dx-validator>
                                                </dx-text-box>
                                                <dx-text-box [(value)]="user.fullName"
                                                             placeholder="Full name"
                                                             (onValueChanged)="validateInviteUserGroup(i)"
                                                             class="col-4">
                                                    <dx-validator>
                                                        <dxi-validation-rule type="custom" [validationCallback]="validateInviteUserRow" [reevaluate]="true" message="{{l('NameIsRequired')}}."></dxi-validation-rule>
                                                        <dxi-validation-rule type="custom" [validationCallback]="validateFullName" message="{{l('NameIsRequired')}}."></dxi-validation-rule>
                                                        <dxi-validation-rule type="stringLength" [max]="32"></dxi-validation-rule>
                                                    </dx-validator>
                                                </dx-text-box>
                                                <dx-tag-box [dataSource]="roles"
                                                            valueExpr="name"
                                                            displayExpr="displayName"
                                                            placeholder="Role"
                                                            [(value)]="user.roleNames"
                                                            tagTemplate="customTagTemplate"
                                                            [showSelectionControls]="true"
                                                            [maxDisplayedTags]="0"
                                                            [showMultiTagOnly]="true"
                                                            (onMultiTagPreparing)="onMultiTagPreparing($event)"
                                                            (onValueChanged)="validateInviteUserGroup(i)"
                                                            class="col-4">
                                                    <div *dxTemplate="let tag of 'customTagTemplate'">
                                                        <span class="tag-value">{{tag}}</span>
                                                    </div>
                                                    <dx-validator>
                                                        <dxi-validation-rule type="custom" [validationCallback]="validateInviteUserRow" [reevaluate]="true" message="{{l('RequiredField', l('Role'))}}"></dxi-validation-rule>
                                                    </dx-validator>
                                                </dx-tag-box>
                                                <div class="remove-import-user" (click)="removeImportUser(i)"><i class="fa fa-minus"></i></div>
                                            </div>
                                        </dx-validation-group>
                                        <div><span class="add-import-user" (click)="addImportUser()">+ADD</span></div>
                                    </div>
                                </dx-scroll-view>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">Back</button>
                    <button class="btn btn-layout get-started" (click)="onSubmit()" mat-button>
                        {{data?.alreadyStarted ? 'Submit' : 'Get started'}}
                    </button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="video step-item">
                <div class="header">
                    <span>{{l('CRM')}} - {{l('Product_Video_Introduction')}}</span>
                </div>
                <div class="main">
                    <div class="video-wrapper">
                        <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
                            <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
                                <div class="wistia_embed wistia_async_kqjpmot28u videoFoam=true" style="height:100%;width:100%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <button mat-button (click)="goToStep(0)" class="btn btn-layout">{{l('Back')}}</button>
                </div>
            </div>
        </mat-step>
    </mat-horizontal-stepper>
</mat-dialog-content>
