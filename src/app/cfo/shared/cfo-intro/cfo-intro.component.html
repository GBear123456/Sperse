<button mat-dialog-close class="close-dialog"><i class="la la-times"></i></button>
<mat-dialog-content>
    <mat-horizontal-stepper [linear]="false" #stepper>
        <mat-step>
            <div class="first-step step-item">
                <div class="header">
                    <span>Introduction Tour</span>
                </div>
                <div class="main">
                    <h2>CFO</h2>
                    <p>Cash Flow Outlook</p>
                    <div class="play" (click)="showVideo()">
                        <img src="assets/common/images/cfo-intro/play-btn.png">
                        <div class="bottomp">
                            <p>
                                Know Your Cash Flow
                            </p>
                            <img src="assets/common/images/cfo-intro/frb.png">
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <a (click)="showVideo()">
                        <img src="assets/common/images/cfo-intro/button-play.svg" alt="play"> Play video
                    </a>
                    <button mat-button matStepperNext class="btn btn-layout">Next</button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="second-step step-item">
                <div class="header">
                    <span>Key features</span>
                </div>
                <div class="main">
                    <h2>Key Features</h2>
                    <ul class="treka">
                        <li>
                            <img src="assets/common/images/cfo-intro/sijalica.png">Easy Setup and Financial Account Aggregation
                        </li>
                        <li>
                            <img src="assets/common/images/cfo-intro/drugi.png">Daily Bank Account Transaction Synchronization
                        </li>
                        <li>
                            <img src="assets/common/images/cfo-intro/treci.png">Rolling Cash Flow Reports and Forecasts
                        </li>
                        <li>
                            <img src="assets/common/images/cfo-intro/catvrti.png">Financial Activity by Year, Quarter, Month, Day
                        </li>
                        <li>
                            <img src="assets/common/images/cfo-intro/pati.png">Drag-n-drop transaction classification
                        </li>
                    </ul>
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">Back</button>
                    <button mat-button matStepperNext class="btn btn-layout">Next</button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="third-step step-item">
                <div class="header">
                    <span>Connect your bank accounts</span>
                </div>
                <div class="main">
                    <div class="conta">
                        <div class="vrh">
                            <h2>
                                Daily Bank Synchronization and Financial Account Aggregation
                            </h2>
                            <p>
                                Connect from
                                <span>15,000 Financial Institutions</span>
                            </p>
                        </div>
                        <section class="dole">
                            <div class="bra">
                                <img src="assets/common/images/cfo-intro/brands.png">
                            </div>
                            <div class="str">
                                <img src="assets/common/images/cfo-intro/arrow.png">
                                <p>
                                    <span>Daily</span>
                                    <br> updates from your bank accounts
                                </p>
                            </div>
                        </section>
                    </div>
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">Back</button>
                    <button mat-button matStepperNext class="btn btn-layout">Next</button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="forth-step step-item">
                <div class="header">
                    <span>Transactions &gt; Search, Filter and Organize</span>
                </div>
                <div class="main">
                    <div class="conta">
                        <div class="mainda">
                            <h3>TRANSACTION CATEGORIZATION RULES</h3>
                            <h2>Automate Transaction Classification</h2>
                            <p>
                                Define rules to automate the classification of your transactions into the categorization or grouping you want your cash flow
                                reports to be organized by.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">Back</button>
                    <button mat-button matStepperNext class="btn btn-layout">Next</button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="fifth-step step-item">
                <div class="header">
                    <span>Dashboard &gt; Your Financial Snapshot</span>
                </div>
                <div class="main">
                    <div class="conta">
                        <div class="mainda">
                            <h3>
                                DASHBOARD
                            </h3>
                            <h2>
                                See an overview of all your cash activity
                            </h2>
                            <p>
                                The dashboard summarizes all your cash activity by the selected period.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">Back</button>
                    <button mat-button matStepperNext class="btn btn-layout">Next</button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="sixth-step step-item">
                <div class="header">
                    <img src="/assets/common/images/sperse-logo.png">
                </div>
                <div class="main">
                    <div class="conta">
                        <div class="mainda" *ngIf="question">
                            <h3>
                                {{question.text}}
                            </h3>
                            <div class="imputara">
                                <label *ngFor="let option of question.options" class="container1">
                                    {{option.text}}
                                    <input type="checkbox" [value]="option['selected'] === true" (change)="option['selected'] = $event.target.checked;">
                                    <span class="checkmark"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">Back</button>

                    <button *ngIf="!showImportUsersStep" class="btn btn-layout get-started" (click)="onSubmit()" mat-button>
                        {{data?.alreadyStarted ? 'Submit' : 'Get started'}}
                    </button>
                    <button *ngIf="showImportUsersStep" mat-button matStepperNext class="btn btn-layout">Next</button>
                </div>
            </div>
        </mat-step>
        <mat-step *ngIf="showImportUsersStep">
            <div class="seventh-step step-item">
                <div class="header">
                    <img src="/assets/common/images/sperse-logo.png">
                </div>
                <div class="main">
                    <div class="conta">
                        <div class="mainda">
                            <h3>
                                Invite Your Team Members <br />
                                With Assigned Roles
                            </h3>
                            <div class="imputara">
                                <dx-scroll-view height="350" showScrollbar="onHover">
                                    <div style="position:relative">
                                        <dx-validation-group *ngFor="let user of importUsers; let i = index" (onInitialized)="onInviteUserValidationGroupInitialized($event)">
                                            <div class="row import-user-row" [attr.index]="i">
                                                <dx-text-box [(value)]="user.email"
                                                             placeholder="Email"
                                                             (onValueChanged)="validateInviteUserGroup(i)"
                                                             class="col-4">
                                                    <dx-validator>
                                                        <dxi-validation-rule type="custom" [validationCallback]="validateInviteUserRow" [reevaluate]="true" message="{{l('EmailIsRequired')}}."></dxi-validation-rule>
                                                        <dxi-validation-rule type="email" message="{{l('EmailIsNotValid')}}."></dxi-validation-rule>
                                                        <dxi-validation-rule type="stringLength" [max]="64"></dxi-validation-rule>
                                                    </dx-validator>
                                                </dx-text-box>
                                                <dx-text-box [(value)]="user.fullName"
                                                             placeholder="Full name"
                                                             (onValueChanged)="validateInviteUserGroup(i)"
                                                             class="col-4">
                                                    <dx-validator>
                                                        <dxi-validation-rule type="custom" [validationCallback]="validateInviteUserRow" [reevaluate]="true" message="{{l('NameIsRequired')}}."></dxi-validation-rule>
                                                        <dxi-validation-rule type="custom" [validationCallback]="validateFullName" message="{{l('NameIsRequired')}}."></dxi-validation-rule>
                                                        <dxi-validation-rule type="stringLength" [max]="32"></dxi-validation-rule>
                                                    </dx-validator>
                                                </dx-text-box>
                                                <dx-tag-box [dataSource]="roles"
                                                            valueExpr="name"
                                                            displayExpr="displayName"
                                                            placeholder="Role"
                                                            [(value)]="user.roleNames"
                                                            tagTemplate="customTagTemplate"
                                                            [showSelectionControls]="true"
                                                            [maxDisplayedTags]="0"
                                                            [showMultiTagOnly]="true"
                                                            (onMultiTagPreparing)="onMultiTagPreparing($event)"
                                                            (onValueChanged)="validateInviteUserGroup(i)"
                                                            class="col-4">
                                                    <div *dxTemplate="let tag of 'customTagTemplate'">
                                                        <span class="tag-value">{{tag}}</span>
                                                    </div>
                                                    <dx-validator>
                                                        <dxi-validation-rule type="custom" [validationCallback]="validateInviteUserRow" [reevaluate]="true" message="{{l('RequiredField', l('Role'))}}"></dxi-validation-rule>
                                                    </dx-validator>
                                                </dx-tag-box>
                                                <div class="remove-import-user" (click)="removeImportUser(i)"><i class="fa fa-minus"></i></div>
                                            </div>
                                        </dx-validation-group>
                                        <div><span class="add-import-user" (click)="addImportUser()">+ADD</span></div>
                                    </div>
                                </dx-scroll-view>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <button mat-button matStepperPrevious class="btn btn-layout">Back</button>
                    <button class="btn btn-layout get-started" (click)="onSubmit()" mat-button>
                        {{data?.alreadyStarted ? 'Submit' : 'Get started'}}
                    </button>
                </div>
            </div>
        </mat-step>
        <mat-step>
            <div class="video step-item">
                <div class="header">
                    <span>CFO - Product Video Introduction</span>
                </div>
                <div class="main">
                    <div class="video-wrapper">
                        <div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">
                            <div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">
                                <div class="wistia_embed wistia_async_kqjpmot28u videoFoam=true" style="height:100%;width:100%"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer">
                </div>
            </div>
        </mat-step>
    </mat-horizontal-stepper>
</mat-dialog-content>
