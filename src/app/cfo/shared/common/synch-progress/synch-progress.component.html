<div *ngIf="!completed && synchData" class="synch-progress-wrapper">
    <div id="synchProgressContainer" class="synch-container" (mouseenter)="toggleTooltip()">
        <div class="loadindicator" [class.error]="isFailed"></div>
        <h3>{{l('Sync_status')}}</h3>
        <dx-progress-bar #progressBar
                         id="progress-bar-status"
                         width="162"
                         [class.complete]="progressBar.value == maxValue"
                         [min]="0"
                         [max]="100"
                         [statusFormat]="format"
                         [value]="currentProgress">
        </dx-progress-bar>
    </div>

    <dx-tooltip target="#synchProgressContainer"
                [width]="712"
                [(visible)]="tooltipVisible">
        <div *dxTemplate="let data = data of 'content'">
            <div class="tooltip-container">
                <div class="header">
                    <h3>{{l('Accounts_synchronization_status')}}:</h3>
                </div>
                <div class="scroll-zone">
                    <div class="row">
                        <div class="col-7">
                            <dx-scroll-view [showScrollbar]="onHover" [height]="calculateChartsScrolableHeight()">
                                <ul class="list-of-synch-accounts">
                                    <li *ngFor="let acc of synchData.accountProgresses"
                                        [class]="'clearfix ' + acc.syncStatus | lowercase"
                                        [attr.data-errormsg]="acc.syncStatusMessage">
                                        <span class="name">{{ acc.accountName }}:</span>
                                        <span class="percent">{{acc.progressPercent | number : '1.0-0'}}%</span>
                                    </li>
                                </ul>
                            </dx-scroll-view>
                        </div>
                        <div class="col-5">
                            <div class="progress-wrap">
                                <round-progress [current]="currentProgress"
                                                [max]="100"
                                                [color]="'#35C8A8'"
                                                [background]="'#ECF0F3'"
                                                [radius]="64"
                                                [stroke]="8"
                                                [rounded]="false"
                                                [clockwise]="true"
                                                [responsive]="true"
                                                [duration]="800"
                                                [animation]="'easeInOutQuart'"
                                                [animationDelay]="0">
                                </round-progress>
                                <span class="total-synch-progress">{{currentProgress | number : '1.0-0'}}%</span>
                            </div>

                            <div class="progress-description">
                                <div class="progress-description-arrow"></div>
                                <div class="progress-description-header">{{l('Accounts_synchronization_in_progress')}}</div>
                                <div class="progress-description-text">{{l('Accounts_synchronization_in_progress_description')}}</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <div class="footer-text">
                        {{l('Accounts_synchronization_footer')}}
                    </div>
                </div>
            </div>
        </div>
    </dx-tooltip>
</div>
