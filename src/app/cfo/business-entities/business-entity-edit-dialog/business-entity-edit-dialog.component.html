<modal-dialog [title]="title" [editTitle]="false" [buttons]="buttons">
    <dx-scroll-view showScrollbar="onHover">
        <div class="tab-content">
            <div class="field">
                <label>{{ls.l('BusinessEntity_Name')}}</label>
                <dx-text-box name="Company"
                             [width]="'360px'"
                             (onKeyUp)="onKeyUp($event, 'name')"
                             [(value)]="businessEntity.name">
                    <dx-validator>
                        <dxi-validation-rule type="required" [message]="ls.l('BusinessEntity_NameIsRequired')"></dxi-validation-rule>
                    </dx-validator>
                </dx-text-box>
                <span [class]="businessEntity.name && 'clear-contact' || 'hidden'" (click)="emptyValue('name')"><i class="minus-icon"></i></span>
            </div>
            <div class="field">
                <label>{{ls.l('BusinessEntity_Parent')}}</label>
                <dx-select-box [dataSource]="businessEntities$ | async"
                               displayExpr="name"
                               valueExpr="id"
                               name="parent"
                               [width]="'360px'"
                               [searchEnabled]="true"
                               [(value)]="businessEntity.parentId">
                </dx-select-box>
                <span [class]="businessEntity.parentId && 'clear-contact' || 'hidden'" (click)="emptyValue('parentId')"><i class="minus-icon"></i></span>
            </div>
            <div class="field checkbox" *ngIf="!isNew">
                <label>{{ls.l('BusinessEntity_Active')}}</label>
                <dx-check-box [value]="isActive()"
                              (onValueChanged)="isActiveChanged($event.value)">
                </dx-check-box>
            </div>
            <div class="field checkbox">
                <label>{{ls.l('BusinessEntity_Default')}}</label>
                <dx-check-box name="isDefault"
                              [(value)]="businessEntity.isDefault">
                </dx-check-box>
            </div>
            <div class="field">
                <label>{{ls.l('BusinessEntity_Industry')}}</label>
                <dx-text-box name="Industry"
                             [width]="'360px'"
                             (onKeyUp)="onKeyUp($event, 'industry')"
                             [(value)]="businessEntity.industry">
                </dx-text-box>
                <span [class]="businessEntity.industry && 'clear-contact' || 'hidden'" (click)="emptyValue('industry')"><i class="minus-icon"></i></span>
            </div>
            <div class="field">
                <label>{{ls.l('BusinessEntity_TaxNumber')}}</label>
                <dx-text-box class="tabular"
                             name="taxNumber"
                             maskInvalidMessage="{{ls.l('BusinessEntity_TaxNumberIsNotValid')}}"
                             [mask]="masks.taxNumber"
                             [width]="'360px'"
                             (onKeyUp)="onKeyUp($event, 'taxNumber')"
                             (onValueChanged)="optionalValueChanged($event)"
                             (onInitialized)="onComponentInitialized($event, 'taxNumber')">
                </dx-text-box>
                <span [class]="businessEntity.taxNumber && 'clear-contact' || 'hidden'" (click)="emptyValue('taxNumber')"><i class="minus-icon"></i></span>
            </div>
            <div class="field">
                <label>{{ls.l('BusinessEntity_Type')}}</label>
                <dx-select-box [dataSource]="types"
                               displayExpr="name"
                               valueExpr="id"
                               name="type"
                               [width]="'360px'"
                               [searchEnabled]="true"
                               [(value)]="businessEntity.typeId">
                </dx-select-box>
                <span [class]="businessEntity.typeId && 'clear-contact' || 'hidden'" (click)="emptyValue('typeId')"><i class="minus-icon"></i></span>
            </div>
            <div class="field">
                <label>{{ls.l('BusinessEntity_DateOpened')}}</label>
                <dx-date-box name="DateOpened"
                             [max]="maxDate"
                             [width]="'360px'"
                             placeholder="mm/dd/yyyy"
                             (onKeyUp)="onKeyUp($event, 'dateOpened')"
                             [(value)]="businessEntity.dateOpened">
                </dx-date-box>
                <span [class]="businessEntity.dateOpened && 'clear-contact' || 'hidden'" (click)="emptyValue('dateOpened')"><i class="minus-icon"></i></span>
            </div>
            <div class="field">
                <label>{{ls.l('BusinessEntity_Website')}}</label>
                <dx-text-box name="Website"
                             [width]="'360px'"
                             (onKeyUp)="onKeyUp($event, 'website')"
                             [(value)]="businessEntity.website">
                </dx-text-box>
                <span [class]="businessEntity.website && 'clear-contact' || 'hidden'" (click)="emptyValue('website')"><i class="minus-icon"></i></span>
            </div>
            <div class="field email">
                <label>{{ls.l('BusinessEntity_Email')}}</label>
                <dx-text-box name="email"
                             [width]="'360px'"
                             (onKeyUp)="onKeyUp($event, 'email')"
                             (onInitialized)="onComponentInitialized($event, 'email')">
                    <dx-validator>
                        <dxi-validation-rule type="pattern" [pattern]="emailRegEx" message="{{ls.l('BusinessEntity_EmailIsNotValid')}}."></dxi-validation-rule>
                    </dx-validator>
                </dx-text-box>
                <span [class]="businessEntity.email && 'clear-contact' || 'hidden'" (click)="emptyValue('email')"><i class="minus-icon"></i></span>
            </div>
            <div class="field email">
                <label>{{ls.l('BusinessEntity_AlternativeEmail')}}</label>
                <dx-text-box name="alternativeEmail"
                             [width]="'360px'"
                             (onKeyUp)="onKeyUp($event, 'alternativeEmail')"
                             (onInitialized)="onComponentInitialized($event, 'alternativeEmail')">
                    <dx-validator>
                        <dxi-validation-rule type="pattern" [pattern]="emailRegEx" message="{{ls.l('BusinessEntity_EmailIsNotValid')}}."></dxi-validation-rule>
                    </dx-validator>
                </dx-text-box>
                <span [class]="businessEntity.alternativeEmail && 'clear-contact' || 'hidden'" (click)="emptyValue('alternativeEmail')"><i class="minus-icon"></i></span>
            </div>
            <div class="field phone">
                <label>{{ls.l('BusinessEntity_Phone')}}</label>
                <dx-text-box class="tabular"
                             name="phone"
                             [maskInvalidMessage]="ls.l('BusinessEntity_PhoneIsNotValid')"
                             [mask]="masks.phone"
                             [width]="'360px'"
                             (onKeyUp)="onKeyUp($event, 'phone')"
                             (onValueChanged)="optionalValueChanged($event)"
                             (onInitialized)="onComponentInitialized($event, 'phone')">
                </dx-text-box>
                <span [class]="businessEntity.phone && 'clear-contact' || 'hidden'" (click)="emptyValue('phone')"><i class="minus-icon"></i></span>
            </div>
            <div class="field phone">
                <label>{{ls.l('BusinessEntity_Fax')}}</label>
                <dx-text-box class="tabular"
                             name="fax"
                             [maskInvalidMessage]="ls.l('BusinessEntity_FaxIsNotValid')"
                             [mask]="masks.phone"
                             [width]="'360px'"
                             (onKeyUp)="onKeyUp($event, 'fax')"
                             (onValueChanged)="optionalValueChanged($event)"
                             (onInitialized)="onComponentInitialized($event, 'fax')">
                </dx-text-box>
                <span [class]="businessEntity.fax && 'clear-contact' || 'hidden'" (click)="emptyValue('fax')"><i class="minus-icon"></i></span>
            </div>
            <div class="field addr address">
                <label>{{ls.l('BusinessEntity_Address')}}</label>
                <dx-text-box *ngIf="!googleAutoComplete" name="address"
                             [placeholder]="ls.l('BusinessEntity_Street')"
                             [(value)]="businessEntity.address"
                             [width]="'360px'"
                             (onKeyUp)="onKeyUp($event, 'address')">
                </dx-text-box>
                <input *ngIf="googleAutoComplete" type="text"
                       name="Address"
                       placeholder=""
                       [(value)]="address.address"
                       class="dx-texteditor-input"
                       (country)="updateCountryInfo($event)"
                       (street_number)='address.streetNumber=$event'
                       (street)='address.street=$event'
                       (setAddress)="onAddressChanged($event)"
                       (postal_code)='businessEntity.zip=$event'
                       angularGooglePlace />
                <span *ngIf="!googleAutoComplete" [class]="businessEntity.address && 'clear-contact' || 'hidden'" (click)="emptyValue('address')"><i class="minus-icon"></i></span>
                <span *ngIf="googleAutoComplete" [class]="address.address && 'clear-contact' || 'hidden'" (click)="emptyAddress()"><i class="minus-icon"></i></span>
            </div>
            <div class="field addr">
                <label></label>
                <dx-text-box name="city"
                             maxLength="50"
                             [placeholder]="ls.l('BusinessEntity_City')"
                             [width]="'360px'"
                             (onKeyUp)="onKeyUp($event, 'city')"
                             [value]="businessEntity.city">
                </dx-text-box>
                <span [class]="businessEntity.city && 'clear-contact' || 'hidden'" (click)="emptyValue('city')"><i class="minus-icon"></i></span>
            </div>
            <div class="field addr">
                <label></label>
                <dx-select-box [acceptCustomValue]="true"
                               [dataSource]="getCountryStates() | async"
                               displayExpr="name"
                               valueExpr="name"
                               name="state"
                               [placeholder]="ls.l('BusinessEntity_State')"
                               [width]="'360px'"
                               [searchEnabled]="true"
                               [(value)]="businessEntity.stateName"
                               (onValueChanged)="stateChanged($event)"
                               (onCustomItemCreating)="onCustomStateCreate($event)">
                </dx-select-box>
                <span [class]="businessEntity.stateName && 'clear-contact' || 'hidden'"
                      (click)="clearState()">
                    <i class="minus-icon"></i>
                </span>
            </div>
            <div class="field addr">
                <label></label>
                <dx-text-box name="zip"
                             [placeholder]="ls.l('BusinessEntity_Zip')"
                             maxLength="10"
                             (onKeyUp)="onKeyUp($event, 'zip')"
                             [width]="'360px'"
                             [(value)]="businessEntity.zip">
                </dx-text-box>
                <span [class]="businessEntity.zip && 'clear-contact' || 'hidden'" (click)="emptyValue('zip')"><i class="minus-icon"></i></span>
            </div>
            <div class="field">
                <label></label>
                <dx-select-box [dataSource]="countries"
                               displayExpr="name"
                               valueExpr="name"
                               name="country"
                               [placeholder]="ls.l('BusinessEntity_Country')"
                               width="360px"
                               [searchEnabled]="true"
                               [(value)]="address.countryName"
                               (onValueChanged)="onCountryChange($event)">
                </dx-select-box>
                <span [class]="address.countryName && 'clear-contact' || 'hidden'" (click)="emptyAddressValue('country')"><i class="minus-icon"></i></span>
            </div>
        </div>
    </dx-scroll-view>
</modal-dialog>
