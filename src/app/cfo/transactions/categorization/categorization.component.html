<div>
    <h3 *ngIf="showTitle">
        {{l('Categorize transactions')}}
        <span (click)="close.emit(null)"></span>
    </h3>
    <div *ngIf="showClearSelection" class="clearAll"><span (click)="clearSelection($event)">{{'Clear'}}</span></div>
    <dx-tree-list width="{{width}}"
                  height="{{height}}"
                  keyExpr="key"
                  parentIdExpr="parent"
                  [hoverStateEnabled]="true"
                  [(dataSource)]="categories"
                  [editing]="{allowAdding: true, allowUpdating: true, allowDeleting: true}"
                  [selection]="{allowSelectAll: false, mode: 'single'}"
                  [rootValue]="0"
                  [autoExpandAll]="autoExpand"
                  (onRowClick)="onRowClick($event)"
                  (onContentReady)="initDragAndDropEvents($event)"
                  (onSelectionChanged)="onSelectionChanged.emit($event)"
                  (onRowUpdated)="onCategoryUpdated($event)"
                  (onRowInserted)="onCategoryInserted($event)"
                  (onRowRemoving)="onCategoryRemoving($event)">
        <dxi-column [allowSorting]="true" [sortIndex]="0"
                    [sortingMethod]="sortItem" [sortOrder]="'asc'" dataField="name"></dxi-column>
    </dx-tree-list>
</div>
