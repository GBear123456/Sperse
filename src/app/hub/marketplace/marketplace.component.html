<app-headline [names]="[ l('Marketplace') ]"
              icon="globe"></app-headline>
<div>
    <div class="left-wrapper">
        <div class="left-menu">
            <h2 class="small-title">{{l('Categories')}}</h2>
            <dx-scroll-view showScrollbar="onHover">
                <ul class="category__list">
                    <li *ngFor="let item of extensionCategories" class="category__item">
                        <a (click)="scrollToCategory(item.id)" class="category__link">{{ item.name }} ({{ item.count }})</a>
                    </li>
                </ul>
            </dx-scroll-view>
        </div>
    </div>

    <div class="content-wrapper">
        <dx-scroll-view [bounceEnabled]="true" #content>
            <ng-container *ngFor="let category of sortedList; let i=index;">
                <div *ngIf="category.items && category.items.length" id="category-{{category.id}}">
                    <h2 class="small-title category-title">{{category.name}} ({{category.count}}) <a (click)="category.visibleItems = category.count" class="view-all">View all</a></h2>
                    <ul class="category-items__list">
                        <li *ngFor="let item of category.items | slice:0:category.visibleItems;" class="category-items__element">
                            <figure>
                                <img [src]="item.logo" [alt]="item.name">
                            </figure>
                            <h2>
                                {{item.name}}
                                <span class="rating">
                                    <star-rating [value]="item.rank"
                                                 checkedcolor="#f9a541"
                                                 uncheckedcolor="#d5dadd"
                                                 size="24px"
                                                 readonly="true">
                                    </star-rating>
                                </span>
                            </h2>
                            <p>{{item.description}}</p>
                            <div class="text-center">
                                <a [href]="item.url" target="_blank" class="visit-website">
                                    {{l('Visit website')}} <img src="./assets/common/icons/shape-arrow-right.svg" alt="Arrow">
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>
            </ng-container>
        </dx-scroll-view>
    </div>
</div>
