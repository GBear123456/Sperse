<app-modal-dialog>
    <div class="tab-content">
        <div class="m-content">
            <div class="m-portlet m-portlet--mobile">
                <div class="m-portlet__body">
                    <div class="m-form m-form--label-align-right">
                        <div class="row m--margin-bottom-10">
                            <div class="col-xl-6">
                                <div class="form-group">
                                    <select #TargetValueFilterSelectionCombobox
                                            class="form-control"
                                            [(ngModel)]="readStateFilter"
                                            name="readStateFilter"
                                            jq-plugin="selectpicker">
                                        <option value="ALL">{{l("All")}}</option>
                                        <option value="UNREAD">{{l("Unread")}}</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-xl-6 text-right links">
                                <div class="text-right col-md-7">
                                    <a href="javascript:;" class="text-right" (click)="setAllNotificationsAsRead(); $event.preventDefault(); $event.stopPropagation();" *ngIf="unreadNotificationCount">{{l("SetAllAsRead")}}</a>
                                </div>
                                <div class="text-right">
                                    <a (click)="openNotificationSettingsModal($event)" href="javascript:;">{{l("Preferences")}}</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="m-scrollable" data-scrollable="true">
                        <div class="m-list-timeline m-list-timeline--skin-light m-nav">
                            <div class="m-list-timeline__items" [ngClass]="{'empty':!notifications.length}">
                                <div *ngFor="let notification of notifications" class="m-list-timeline__item user-notification-item" (click)="gotoUrl(notification.url)" [ngClass]="{'user-notification-item-clickable': notification.url,'user-notification-item-unread': notification.isUnread}">
                                    <span class="m-list-timeline__badge m-list-timeline__badge--success"></span>
                                    <span class="m-list-timeline__icon {{notification.icon}}"></span>
                                    <span class="m-list-timeline__text">
                                        {{notification.text}}
                                    </span>
                                    <span class="m-list-timeline__time" jq-plugin="timeago">
                                        {{notification.time}}
                                        <span *ngIf="notification.isUnread">
                                            <a href="javascript:;" *ngIf="notification.state=='UNREAD'" class="m-link set-notification-as-read" (click)="setNotificationAsRead(notification); $event.preventDefault(); $event.stopPropagation();">{{l("SetAsRead")}}</a>
                                        </span>
                                    </span>
                                </div>
                                <span *ngIf="!notifications.length" class="notification-empty-text">
                                    {{l("ThereIsNoNotification")}}
                                </span>
                            </div>
                            <div *ngIf="notifications.length" class="m-nav__separator m-nav__separator--fit"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</app-modal-dialog>
