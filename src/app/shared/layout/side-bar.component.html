<div class="sidebar-filter-links" *ngIf="filters.length">
    <dx-scroll-view [showScrollbar]="onHover">
        <div class="filter-title">
            <dx-button
              [text]="ls('Platform', 'Sort')"
              [iconSrc]="'assets/common/icons/sort-icon-down.svg'"
            ></dx-button>
            <button class="clear-all" (click)="clearAllFilters()">
                {{ls('Platform', 'ClearAll')}}
            </button>
        </div>
        <ul class="filter-links">
            <ng-template ngFor let-filter [ngForOf]="filters" let-i="index">
                <li class="filter-link" [ngClass]="{'active-filter':filter.displayElements && filter.displayElements.length}">
                    <a class="filter-link-header" (click)="showFilterDialog($event, filter)">
                        {{l('FilterBy' + capitalize(filter.caption) + 'Header')}}
                        <i class="fa fa-angle-right pull-right" aria-hidden="true"></i>
                    </a>
                    <ul class="sub-filter-list">
                        <ng-container *ngFor="let displayFilterElement of filter.displayElements | slice:0:2">
                            <li *ngIf="displayFilterElement.displayValue" class="sub-filter-item" [ngClass]="{'nested': displayFilterElement.parentCode}">
                                {{displayFilterElement.displayValue}}<i *ngIf="!displayFilterElement.readonly" class="minus-icon" aria-hidden="true" (click)="excludeFilter($event, filter, displayFilterElement)"></i>
                            </li>
                        </ng-container>
                        <div class="hide-all-elements">
                            <ng-container *ngFor="let displayFilterElement of filter.displayElements | slice:2">
                                <li *ngIf="displayFilterElement.displayValue" class="sub-filter-item" [ngClass]="{'nested': displayFilterElement.parentCode}">
                                    {{displayFilterElement.displayValue}}<i *ngIf="!displayFilterElement.readonly" class="minus-icon" aria-hidden="true" (click)="excludeFilter($event, filter, displayFilterElement)"></i>
                                </li>
                            </ng-container>
                        </div>
                        <li *ngIf="filter.displayElements && filter.displayElements.length > 2" class="sub-filter-item">
                            <a class="toggle-more" (click)="itemClick($event, filter)">+{{filter.displayElements.length - 2}} more</a>
                        </li>
                    </ul>
                </li>
            </ng-template>
        </ul>
    </dx-scroll-view>
</div>

<div class="sidebar-filters" *ngIf="activeFilter">
    <div class="close-details"></div>
    <div class="sidebar-filter-head">
        {{ls('Platform', 'SideBarFilterHeader')}} {{l('FilterBy' + capitalize(activeFilter.caption) + 'Header')}}
        <button class="button-layout button-primary" (click)="filterApply($event)">
            <i class="fa fa-check" aria-hidden="true"></i>
            {{ls('Platform', 'Apply')}}
        </button>
    </div>

    <dx-scroll-view showScrollbar="onHover">
        <filter [config]="activeFilter" (onApply)="filterApply($event)"></filter>
    </dx-scroll-view>
</div>
