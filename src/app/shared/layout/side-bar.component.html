<div class="sidebar-filter-links" *ngIf="filters.length">

    <div class="filter-title">
        <dx-button
          [text]="ls('Platform', 'Sort')"
          [iconSrc]="'assets/common/icons/sort-icon.svg'"
        ></dx-button>
        <button class="clear-all" (click)="clearAllFilters()">
            {{ls('Platform', 'ClearAll')}}
        </button>
    </div>
        <ul class="filter-links">
            <ng-template ngFor let-filter [ngForOf]="filters" let-i="index">
                <li class="filter-link">
                    <a (click)="showFilterDialog($event, filter)">
                        {{l('FilterBy' + capitalize(filter.caption) + 'Header')}}
                        <i class="fa fa-angle-right pull-right" aria-hidden="true"></i>
                    </a>
                    <ul class="sub-filter-list">
                        <ng-template ngFor let-displayFilterElement [ngForOf]="filter.displayElements">
                            <li *ngIf="displayFilterElement.displayValue" class="sub-filter-item" [ngClass]="{'nested': displayFilterElement.parentCode}">
                                {{displayFilterElement.displayValue}}<i *ngIf="!displayFilterElement.readonly" class="minus-icon" aria-hidden="true" (click)="excludeFilter($event, filter, displayFilterElement)"></i>
                            </li>
                        </ng-template>
                    </ul>
                </li>
            </ng-template>
        </ul>
</div>

<div class="sidebar-filters" *ngIf="activeFilter">
    <div class="close-details"></div>
    <div class="sidebar-filter-head">
        {{ls('Platform', 'SideBarFilterHeader')}} {{l('FilterBy' + capitalize(activeFilter.caption) + 'Header')}}
        <button class="button-layout button-primary" (click)="filterApply($event)">
            <i class="fa fa-check" aria-hidden="true"></i>
            {{ls('Platform', 'Apply')}}
        </button>
    </div>

    <dx-scroll-view showScrollbar="onHover">
        <filter [config]="activeFilter" (onApply)="filterApply($event)"></filter>
    </dx-scroll-view>
</div>
