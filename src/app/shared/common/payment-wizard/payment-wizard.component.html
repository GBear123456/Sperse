<div id="paymentWizardComponent">
    <mat-dialog-content>
        <mat-horizontal-stepper #stepper>
            <mat-step>
                <payment-plan-chooser
                    [paymentPlansMaxUsersAmount]="paymentPlansMaxUsersAmount$ | async"
                    [paymentPlans]="paymentPlans$ | async"
                    (onPlanChosen)="changePlan($event)"
                    (moveToNextStep)="moveToPaymentOptionsStep()">
                </payment-plan-chooser>
            </mat-step>
            <mat-step>
                <ng-container *ngIf="(plan$ | async) as plan">
                    <payment-options
                        [plan]="plan"
                        (onChangeStep)="stepper.selectedIndex = $event"
                        (onClose)="close()"
                        (onStatusChange)="changeStatus($event)">
                    </payment-options>
                </ng-container>
            </mat-step>
            <mat-step>
                <ng-container *ngIf="paymentStatus && paymentStatusText">
                    <payment-status [paymentStatus]="paymentStatus" [text]="paymentStatusText"></payment-status>
                </ng-container>
            </mat-step>
        </mat-horizontal-stepper>
    </mat-dialog-content>
</div>
