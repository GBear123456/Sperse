<div *ngIf="showSteper">
    <h1>{{title}}</h1>
    <div class="actions">
        <button class="button-layout button-default" (click)="cancel()">{{l('Cancel')}}</button>
        <button class="button-layout button-primary" (click)="lastStep ? complete(): stepper.next()">{{lastStep ? l('Import'): l('Next')}}</button>
    </div>
    <mat-horizontal-stepper 
        (selectionChange)="stepChanged($event)"
        [linear]="true">
      <mat-step [stepControl]="uploadFile" [label]="'Upload file'" [editable]="false">
        <form [formGroup]="uploadFile">
          <div class="block left">
              <h3>Upload from computer</h3>
              <file-drop 
                  [ngStyle]="{background:'linear-gradient(to left, #ffffff ' + (100 - dropZoneProgress) + '%, #00aeef 0%)'}"
                  (onFileDrop)="fileDropped($event)" 
                  (onFileOver)="fileOver($event)" 
                  (onFileLeave)="fileLeave($event)">
                  <p>Drag and Drop files from your computer here<br>or<br><a href="javascript:void(0);"><input name="importFile" type="file" (change)="fileSelected($event)" accept=".csv">browse</a></p>
              </file-drop>
              <div class="file-info" [hidden]="!dropZoneProgress">
                  <p>{{l('File')}}: {{fileName}}</p>
                  <p>{{l('Size')}}: {{fileSize}}</p>
                  <p>{{l('Records')}}: {{fileData?.data ? fileData?.data?.length - 1: ''}}</p>
              </div>
          </div>
          <div class="center">OR</div>
          <div class="block right"> 
              <h3>Load from URL</h3>
              <mat-form-field class="full-width">
                <input matInput type="url" formControlName="url" [ngStyle]="{background:'linear-gradient(to left, #ffffff ' + (100 - loadProgress) + '%, #00aeef 0%)'}" required>
              </mat-form-field>
              <button class="button-layout button-primary" (click)="downloadFromURL()">{{l('Download')}}</button>
              <div class="file-info" [hidden]="!loadProgress">
                  <p>{{l('File')}}: {{fileName}}</p>
                  <p>{{l('Size')}}: {{fileSize}}</p>
                  <p>{{l('Records')}}: {{fileData?.data ? fileData?.data?.length - 1: ''}}</p>
              </div>
          </div>
        </form>
      </mat-step>
      <mat-step [stepControl]="dataMapping" [label]="'Data mapping'" [editable]="false">
        <form [formGroup]="dataMapping">
          <mat-form-field>
            <input matInput formControlName="secondCtrl" required>
          </mat-form-field>
        </form>
      </mat-step>
      <mat-step [label]="'Review'" [completed]="imported" [editable]="false">
        <div [hidden]="imported"></div>
      </mat-step>
    </mat-horizontal-stepper>
</div>