<modal-dialog [title]="title">
    <form novalidate (ngSubmit)="refreshTable()" autocomplete="off">
        <div *ngIf="options.isFilterEnabled" class="input-group margin-bottom-10">
            <input autoFocus [(ngModel)]="filterText" name="filterText" class="form-control" [placeholder]="ls.l('SearchWithThreeDot')" type="text">
            <span class="input-group-btn">
                <button class="btn btn btn-primary" type="submit"><i class="flaticon-search-1" [attr.aria-label]="ls.l('Search')"></i></button>
            </span>
        </div>
        <div class="primeng-datatable-container">
            <p-table #dataTable
                     (onLazyLoad)="getRecordsIfNeeds($event)"
                     [value]="primengTableHelper.records"
                     [rows]="primengTableHelper.defaultRecordsCountPerPage"
                     [paginator]="false"
                     [lazy]="true"
                     [responsive]="primengTableHelper.isResponsive">
                <ng-template pTemplate="header">
                    <tr>
                        <th style="width:15%">
                            {{ls.l('Select')}}
                        </th>
                        <th>
                            {{ls.l('Name')}}
                        </th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-record="$implicit">
                    <tr>
                        <td>
                            <button class="btn btn-metal m-btn m-btn--icon m-btn--icon-only"
                                    (click)="selectItem(record)"
                                    title="{{ls.l('Select')}}">
                                <i class="la la-chevron-circle-right" [attr.aria-label]="ls.l('Select')"></i>
                            </button>
                        </td>
                        <td>
                            <span class="ui-column-title">{{ls.l('Name')}}</span>
                            {{record.name}}
                        </td>
                    </tr>
                </ng-template>
            </p-table>
            <div class="primeng-no-data" *ngIf="primengTableHelper.totalRecordsCount == 0">
                {{ls.l('NoData')}}
            </div>
            <div class="primeng-paging-container">
                <p-paginator [rows]="primengTableHelper.defaultRecordsCountPerPage"
                             #paginator
                             (onPageChange)="getRecordsIfNeeds($event)"
                             [totalRecords]="primengTableHelper.totalRecordsCount"
                             [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage">
                </p-paginator>
                <span class="total-records-count">
                    {{ls.l('TotalRecordsCount', 'Platform', primengTableHelper.totalRecordsCount)}}
                </span>
            </div>
        </div>
    </form>
</modal-dialog>
