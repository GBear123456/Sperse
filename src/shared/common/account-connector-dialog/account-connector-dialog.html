<mat-dialog-content>
    <button *ngIf="selectedConnector !== accountConnectors.SaltEdge" (click)="closeDialog($event)" class="close"></button>
    <button *ngIf="selectedConnector && selectedConnector !== accountConnectors.SaltEdge && showBackButton" (click)="selectedConnector = undefined" class="back"></button>

    <account-connector-chooser [hidden]="selectedConnector && selectedConnector != accountConnectors.Plaid"
        [disabledConnectors]="data?.disabledConnectors"
        (onConnectorChosen)="openConnector($event)">
    </account-connector-chooser>

    <ng-template [ngIf]="selectedConnector === accountConnectors.Plaid">
        <plaid-login
            [mode]="connectionMode"
            [accountId]="data?.config?.accountId"
            (onComplete)="complete(true)"
            (onClose)="closeDialog($event)">
        </plaid-login>
    </ng-template>
    <ng-template [ngIf]="selectedConnector === accountConnectors.SaltEdge">
        <salt-edge
            [mode]="connectionMode"
            [accountId]="data?.config?.accountId"
            [loadingContainerElement]="data?.loadingContainerElement"
            (onComplete)="complete()" 
            (onClose)="closeDialog()">
        </salt-edge>
    </ng-template>
    <ng-template [ngIf]="selectedConnector === accountConnectors.QuickBook">
        <quick-book-login
            [mode]="connectionMode"
            [accountId]="data?.config?.accountId"
            [loadingContainerElement]="data?.loadingContainerElement"
            (onComplete)="complete()">
        </quick-book-login>
    </ng-template>
    <ng-template [ngIf]="selectedConnector === accountConnectors.XeroOAuth2">
        <xero-oauth2-login
            [mode]="connectionMode"
            [accountId]="data?.config?.accountId"
            [loadingContainerElement]="data?.loadingContainerElement"
            (onComplete)="complete()">
        </xero-oauth2-login>
    </ng-template>
</mat-dialog-content>