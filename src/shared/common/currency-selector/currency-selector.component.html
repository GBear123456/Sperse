<dx-select-box class="currencies-dropdown"
               valueExpr="id"
               displayExpr="displayName"
               [searchExpr]="['id', 'displayName']"
               [searchEnabled]="true"
               placeholder="Search"
               fieldTemplate="field"
               [value]="currency"
               (valueChange)="onValueChange($event)"
               [disabled]="disabled"
               [dataSource]="currencyService.currencies$ | async"
               (onValueChanged)="onCurrencyChanged.emit($event)">
    <div *dxTemplate="let item of 'field'" class="flag-field">
        <img [hidden]="!currency" class="selected-flag-icon" src="assets/common/icons/flags/{{currency?.toLowerCase()}}.svg" width="19px" height="auto">&nbsp;
        <dx-text-box class="flag-field-textbox" width="90%" [value]="item?.displayName"></dx-text-box>
    </div>
    <div *dxTemplate="let item of 'item'" class="flag-row">
        <img class="flag-icon" src="assets/common/icons/flags/{{item?.id?.toLowerCase()}}.svg" width="52px" height="38px">
        <div>
            <span class="currency-name">{{item.displayName}}</span><br>
            <b class="currency-id">{{item.id}}</b>
        </div>
    </div>
    <dx-validator>
        <dxi-validation-rule type="required" message="{{ls.l('RequiredField', ls.l('Currency'))}}."></dxi-validation-rule>
    </dx-validator>
</dx-select-box>