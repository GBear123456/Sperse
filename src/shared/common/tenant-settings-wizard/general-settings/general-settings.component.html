<h2>{{ ls.l('GeneralSettings') }}</h2>
<ng-container *ngIf="settings">
    <div class="form-group" *ngIf="showTimezoneSelection">
        <label for="Timezone">{{ls.l("Timezone")}}</label>
        <timezone-combo id="Timezone"
            [(selectedTimeZone)]="settings.timezone"
            [defaultTimezoneScope]="defaultTimezoneScope">
        </timezone-combo>
    </div>
    <div class="form-group">
        <label for="DefaultCountry">{{ls.l("Country")}}</label>
        <dx-select-box
            width="120px"
            valueExpr="key"
            displayExpr="text"
            [(value)]="settings.defaultCountryCode"
            [dataSource]="supportedCountries"
            (onSelectionChanged)="onCountryChanged($event)">
        </dx-select-box>
        <div class="payment-settings" *ngIf="paymentSettingsAllowed">
            <label for="Currency">{{ls.l("Currency")}}</label>
            <dx-select-box
                width="290px"
                valueExpr="key"
                displayExpr="text"
                [(value)]="paymentSettings.currency"
                [dataSource]="supportedCurrencies">
            </dx-select-box>
        </div>
    </div>
    <ng-container *ngIf="tenant">
        <div class="form-group">
            <label for="PublicPhone">{{ls.l("PublicPhone")}}</label>
            <country-phone-number #publicPhoneNumber
                                  [phoneNumber]="settings.publicPhone"
                                  [required]="false"
                                  (phoneNumberChange)="onPhoneNumberChange($event, publicPhoneNumber)">
            </country-phone-number>
        </div>
        <div class="form-group">
            <label for="PublicSiteUrl">{{ls.l("PublicSiteUrl")}}</label>
            <input #publicSiteUrl="ngModel"
                   id="PublicSiteUrl"
                   type="url"
                   name="PublicSiteUrl"
                   class="form-control"
                   [(ngModel)]="settings.publicSiteUrl"
                   maxlength="128"
                   [pattern]="siteUrlRegexPattern"
                   (change)="changeDetectorRef.detectChanges()">
        </div>
        <div *ngIf="!publicSiteUrl.valid && !publicSiteUrl.pristine">
            <span class="help-block text-danger">
                {{ls.l("Invalid_PublicSiteUrl")}}
            </span>
        </div>
        <div class="form-group zendesk">
            <label for="ZendeskAccountUrl">{{ls.l("ZendeskAccountUrl")}}</label>
            <input id="ZendeskAccountUrl"
                   type="text"
                   name="ZendeskAccountUrl"
                   class="form-control"
                   [(ngModel)]="settings.zendeskAccountUrl"
                   maxlength="128">
        </div>
        <div class="row m-form file-uploads" *ngIf="tenant && isAdminCustomizations">
            <div class="col-md-6">
                <uploader #privacyPolicyUploader
                          [title]="ls.l('PrivacyPolicy')"
                          [documentId]="tenant.customPrivacyPolicyDocumentId"
                          [documentLink]="remoteServiceBaseUrl + '/api/TenantCustomization/GetPrivacyPolicyDocument?tenantId=' + tenant.id"
                          [uploadButtonText]="ls.l('UploadPrivacyPolicy')"
                          [uploadUrl]="remoteServiceBaseUrl + '/api/TenantCustomization/UploadCustomPrivacyPolicyDocument'">
                </uploader>
            </div>
            <div class="col-md-6">
                <uploader #tosUploader
                          [title]="ls.l('TermsOfService')"
                          [documentId]="tenant.customToSDocumentId"
                          [documentLink]="remoteServiceBaseUrl + '/api/TenantCustomization/GetTermsOfServiceDocument?tenantId=' + tenant.id"
                          [uploadButtonText]="ls.l('UploadTermsOfService')"
                          [uploadUrl]="remoteServiceBaseUrl + '/api/TenantCustomization/UploadCustomToSDocument'">
                </uploader>
            </div>
        </div>
    </ng-container>
</ng-container>