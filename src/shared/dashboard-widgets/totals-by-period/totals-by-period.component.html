<section class="categorization-status">
    <header>
        <h2 class="title">{{l('Totals_by_period')}}</h2>
        <div class="select-box-wrap">
            <!-- dx-select-box [items]="availablePeriods"
                           [width]="'100px'"
                           [value]="availablePeriods[availablePeriods.length - 1]"
                           (onValueChanged)="onValueChanged($event)">
            </dx-select-box -->
        </div>
    </header>
    <div class="content-wrap">
        <div [hidden]="!totalData" *ngIf="totalData?.hasOwnProperty('startingBalance')">

            <div class="starting-balance">{{l('Stats_startingBalance')}}<span>{{ totalData.startingBalance | currency }}</span></div>

            <div class="chart-head">{{l('Cash_Inflows')}}</div>
            <div class="chart-line"><div [ngStyle]="{width: totalData.incomePercent + '%', 'background-color': incomeColor}"></div><span [ngStyle]="{'color': incomeColor}">{{ totalData.income | currency }}</span></div>
            <div class="chart-head">{{l('Cash_Outflows')}}</div>
            <div class="chart-line"><div [ngStyle]="{width: totalData.expensesPercent + '%', 'background-color': expensesColor}"></div><span [ngStyle]="{'color': expensesColor}">{{ totalData.expenses | currency }}</span></div>
            <div class="chart-head">{{l('Net_Change')}}</div>
            <div class="chart-line"><div [ngStyle]="{width: totalData.netChangePercent + '%', 'background-color': totalData.income - totalData.expenses > 0 ? netChangeColor : expensesColor }"></div><span [ngStyle]="{'color': totalData.income - totalData.expenses > 0 ? netChangeColor : expensesColor}">{{ totalData.netChange | currency }}</span></div>

            <div class="ending-balance">{{l('Stats_endingBalance')}}<span>{{ totalData.endingBalance | currency }}</span></div>

        </div>
        <app-no-data [hidden]="loading || (totalData && totalData?.hasOwnProperty('startingBalance'))"></app-no-data>
    </div>
</section>
