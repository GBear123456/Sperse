<h2 class="title">{{ ls.l('TopSpendingCategories') }}</h2>
<ng-container *ngIf="topSpendingCategories$ | async as topSpendingCategories">
    <ng-container *ngIf="topSpendingCategories && topSpendingCategories.length; else noData">
        <dx-pie-chart
            id="pie"
            palette="bright"
            type="donut"
            [innerRadius]="0.7"
            [dataSource]="topSpendingCategories"
            (onPointClick)="onClick($event)"
            (onLegendClick)="onClick($event)">
            <dxi-series
                argumentField="fullName"
                valueField="amount">
            </dxi-series>
            <dxo-legend verticalAlignment="top"
                        horizontalAlignment="right"
                        [customizeText]="customizeLegendText">
            </dxo-legend>
            <dxo-size [width]="fullpage ? '100%' : '50%'"
                      [height]="fullpage ? elementRef.nativeElement.offsetHeight : 180">
            </dxo-size>
        </dx-pie-chart>
    </ng-container>
    <ng-template #noData>
        <app-no-data></app-no-data>
    </ng-template>
</ng-container>
