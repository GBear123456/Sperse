<div class="content-wrap" [@routerTransition]>
    <div class="credit-simulator" *ngIf="simulatorInfo">
        <ng-container *ngIf="simulatorInfo.accessStatus == scoreSimulatorInfoDtoAccessStatus.Ok; else accessDenied">
            <div class="heading">
                <h1>
                    <dx-select-box
                        placeholder=""
                        [items]="[l('creditReportTitle'), l('creditSimulatorLink')]"
                        [value]="l('creditSimulatorLink')"
                        [width]="260"
                        (onValueChanged)="onSelectChanged($event)">
                    </dx-select-box>
                </h1>
                <p class="warning" *ngIf="simulatorInfo.isDemoPackage">
                    <i class="fa fa-exclamation-triangle fa-3x"></i><span>{{l('SimulatorDemoMode')}}</span>
                </p>
            </div>
            <div class="row">
                <div class="col-md-7">
                    <app-simulation-group [score]="score"
                                          [actualCreditScore]="actualCreditScore"
                                          (newScore)="getNewScore($event)">
                    </app-simulation-group>
                </div>
                <div class="col-md-5">
                    <app-score-preview [actualCreditScore]="actualCreditScore"
                                       [calculatedCreditScore]="calculatedCreditScore">
                    </app-score-preview>
                    <hr>
                    <app-history-log [historyItems]="historyItems"></app-history-log>
                </div>
            </div>
        </ng-container>
        <ng-template #accessDenied>
            <div class="accessDenied">
                <p>{{l('Simulator' + simulatorInfo.accessStatus)}}</p>
                <ng-container [ngSwitch]="simulatorInfo.accessStatus">
                    <ng-container *ngSwitchCase="scoreSimulatorInfoDtoAccessStatus.NoMember">
                        <app-packages></app-packages>
                    </ng-container>
                    <ng-container *ngSwitchCase="scoreSimulatorInfoDtoAccessStatus.MemberIsCancelled">
                        <app-packages></app-packages>
                    </ng-container>
                    <ng-container *ngSwitchCase="scoreSimulatorInfoDtoAccessStatus.UnsupportedPackage">
                        <p>{{l('SimulatorPackageUpgradeAdvice')}}</p>
                    </ng-container>
                    <ng-container *ngSwitchCase="scoreSimulatorInfoDtoAccessStatus.KbaIsNotPassed">
                        <p>
                            <a routerLink="/personal-finance" class="btn-update">{{l('PassKBA')}}</a>
                        </p>
                    </ng-container>
                    <ng-container *ngSwitchCase="scoreSimulatorInfoDtoAccessStatus.NoPayment">
                    </ng-container>
                </ng-container>
            </div>
        </ng-template>
    </div>
</div>
