<section class="content" *ngIf="!hasCrmCustomersPermission; else usersList">
    <header>
        <img src="./assets/common/images/bank-code/bankpass.png"
             srcset="./assets/common/images/bank-code/bankpass@2x.png 2x, ./assets/common/images/bank-code/bank-code-logo@3x.png 3x"
             alt="BankPass" class="header-image">
    </header>
    <div class="separator external"></div>

    <div class="top">
        <h1>B.A.N.K. PASS</h1>
        <h2>GENERATE, TRACK, AND CONVERT UNLIMITED LEADS USING B.A.N.K. PASS</h2>
        <p>Generate unlimited leads using our B.A.N.K. PASS tools. Leverage the custom B.A.N.K. PASS CRM to track your leads throughout the customer journey, all while making conversion a breeze thanks to B.A.N.K. PASS resources like custom guides and quick tips sheets on how to communicate, negotiate, and close the sale with each prospect.</p>
        <p class="price"><span>Only </span><span class="bold">$59</span><span class="per-month"> per month</span></p>
        <a [href]="'https://wp.bankcode.pro/ai/?add-to-cart=' + offerId" class="button arrow" target="_blank">Subscribe now!</a>
    </div>

    <div class="access">
        <div class="row">
            <div class="col-xs-12 col-md-6 bg-tablet"></div>
            <div class="col-xs-12 col-md-6 section-content">
                <h2>B.A.N.K. PASS gives you exclusive access to our full repository of B.A.N.K. intelligence and reports. </h2>
                <p>Plus, applying what you learn is simple when you can respond to events, automate responses, and track the customer journey using the included BCRM. With B.A.N.K. PASS, you donâ€™t just access our intelligences, you understand and use them to succeed big!</p>
                <a class="button bordered" href="https://wp.bankcode.pro/product-bankpass/" target="_blank">LEARN MORE</a>
            </div>
        </div>
    </div>

    <footer>
        <subscription [offerId]="offerId"></subscription>
    </footer>
</section>
<ng-template #usersList>
    <section class="users-list">
        <div [hidden]="dataIsLoading">
            <dx-text-box [placeholder]="ls.l('Search')"
                         [value]="searchValue"
                         mode="search"
                         (onValueChanged)="searchValueChange($event)">
            </dx-text-box>
            <dx-data-grid id="gridContainer"
                          class="limitedPagerTotal"
                          accessKey="narrowHeaderPanel"
                          [noDataText]="''"
                          [dataSource]="dataSource"
                          [allowColumnReordering]="true"
                          [columnAutoWidth]="true"
                          [loadPanel]="{ enabled: false }"
                          [allowColumnResizing]="true"
                          [hoverStateEnabled]="true"
                          [pager]="gridPagerConfig"
                          (onDataErrorOccurred)="httpInterceptor.handleError($event.error)">
                <dxo-paging [pageSize]="10"></dxo-paging>
                <dxi-column dataField="PhotoPublicId" caption=" " cellTemplate="photoTemplate"
                            [width]="50" [allowExporting]="false"
                            [allowGrouping]="false" [allowSorting]="false"></dxi-column>
                <div *dxTemplate="let data of 'photoTemplate'">
                    <div [ngStyle]="{'background-image': 'url(' + profileService.getContactPhotoUrl(data.data.PhotoPublicId) + ')'}"
                         class="img-circle">
                    </div>
                </div>
                <dxi-column dataField="Name" [caption]="ls.l('Name')" [width]="150"></dxi-column>
                <dxi-column dataField="Email" [caption]="ls.l('Email')" [width]="160"></dxi-column>
                <dxi-column dataField="Phone" [caption]="ls.l('Phone')" cellTemplate="phoneCell" cssClass="tabular"></dxi-column>
                <dxi-column dataField="City" [caption]="ls.l('City')" [width]="90"></dxi-column>
                <dxi-column dataField="StateId" [caption]="ls.l('State')"></dxi-column>
                <dxi-column dataField="Stage" [caption]="ls.l('Stage')"></dxi-column>
                <dxi-column dataField="BankCode" cellTemplate="bankCodeCell" [caption]="ls.l('BankCode')" [width]="105"></dxi-column>
                <dxi-column dataField="CreationTime" [caption]="ls.l('Created')" cellTemplate="dateCell" cssClass="tabular"></dxi-column>
                <div *dxTemplate="let cellData of 'phoneCell'">
                    {{cellData.value | phone}}
                </div>
                <div *dxTemplate="let cellData of 'dateCell'">
                    {{cellData.value | date: formatting.dateTime : userTimezone}}
                </div>
                <div *dxTemplate="let cellData of 'bankCodeCell'">
                    <bank-code-letters [bankCode]="cellData.value"></bank-code-letters>
                </div>
                <dxo-sorting mode="multiple"></dxo-sorting>
            </dx-data-grid>
        </div>
        <loading-spinner [hidden]="!dataIsLoading"></loading-spinner>
    </section>
</ng-template>
